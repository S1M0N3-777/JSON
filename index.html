<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="container">
        <form action="#">
            <span class="question-number">1</span>
            <span class="question-text">aaaa</span>
            <input type="text" name="answer" id="user-guess">
            <input type="submit" name="" id="button">
            <h1 class="endgame"></h1>
        </form>
    </div>
    <script>
        let score = 0;
        let quiz = [
            {
                "ndomanda": "1",
                "testo": "In che anno è scoppiata la prima guerra mondiale?",
                "rispostagiusta": "1915",
                "rispostautente": "",
            },
            {
                "ndomanda": "2",
                "testo": "Chi ha vinto i mondiali nel 2022?",
                "rispostagiusta": "Argentina",
                "rispostautente": "",
            },
            {
                "ndomanda": "3",
                "testo": "Se Mario ha 3 mele e Frank ne ruba 2, cos'è Frank?",
                "rispostagiusta": "Un ladro",
                "rispostautente": "",
            },
            {
                "ndomanda": "4",
                "testo": "Da che età si può conseguire la patente A?",
                "rispostagiusta": "14",
                "rispostautente": "",
            },
            {
                "ndomanda": "5",
                "testo": "Oggi piu di ieri (continua la frase)",
                "rispostagiusta": "Odio i carabinieri",
                "rispostautente": "",
            },
        ] 
        window.addEventListener("load", function(){
            let currentQuestion = 0;
            let ndomanda = document.querySelector(".question-number")
            let domanda = document.querySelector(".question-text")
            let obj = quiz[currentQuestion]
            ndomanda.innerHTML = obj["ndomanda"]
            domanda.innerHTML = obj["testo"]
            let form = document.querySelector("form")
            form.addEventListener("submit", function (e){
                e.preventDefault()
                let rispostautente = document.querySelector("#user-guess")
                obj["rispostautente"] = rispostautente.value.trim();
                currentQuestion += 1
                while(rispostautente === "" || isNaN(rispostautente)){
                    alert("inserisci una risposta valida!")
                }if(rispostautente === obj[currentQuestion].rispostagiusta.toLowercase()){
                        score += 1
                    }
                if(currentQuestion < quiz.length){
                    obj = quiz[currentQuestion]
                    ndomanda.innerHTML = obj["ndomanda"]
                    domanda.innerHTML = obj["testo"]
                }else{
                    calcolapunteggio()
                }
            })


        })
    </script>
</body>
</html>